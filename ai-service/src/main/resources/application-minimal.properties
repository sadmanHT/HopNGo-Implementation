# Minimal configuration for testing
server.port=8088

# Disable problematic features
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# Disable Redis autoconfiguration, caching, and Resilience4j
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,io.github.resilience4j.spring.boot3.Resilience4jAutoConfiguration
spring.cache.type=none

# Disable Resilience4j
resilience4j.enabled=false
resilience4j.ratelimiter.instances.api-rate-limiter.enabled=false
resilience4j.ratelimiter.instances.user-quota.enabled=false

# Set dummy AI configuration values with proper format
ai.openai.api-key=dummy
ai.openai.timeout=30s
ai.openai.max-retries=3
ai.google.vision.api-key=dummy
ai.google.vision.timeout=20s
ai.google.vision.project-id=dummy
ai.image-search.request-timeout=30s
ai.performance.circuit-breaker.wait-duration-in-open-state=30s
ai.performance.request-timeout=2000
ai.embedding.timeout-ms=30000
ai.embedding.cloud-api-key=dummy
ai.qdrant.timeout-ms=10000
ai.qdrant.api-key=dummy
routing.mapbox.token=dummy

# Override timeout properties that cause NumberFormatException
spring.data.redis.timeout=2000ms
resilience4j.ratelimiter.instances.api-rate-limiter.timeout-duration=1s
resilience4j.ratelimiter.instances.user-quota.timeout-duration=1s

# Disable management endpoints
management.endpoints.enabled=false

# Simple logging
logging.level.com.hopngo.ai=INFO
logging.level.org.springframework=WARN